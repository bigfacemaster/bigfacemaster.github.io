---
title: 重学算法第三期-60天攻克数据结构与算法-01
date: 2021-03-08 09:15:32
tags:
  - Algorithm
  - 算法
  - Data Structure
  - 数据结构
---

> [数据结构与算法之美](https://time.geekbang.org/column/intro/126)

# 03 | 复杂度分析（上）：如何分析、统计算法的执行效率和资源消耗？

# Pre

![数据结构与算法-王争](http://bigfacemaster.test.upcdn.net/uPic/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95-%E7%8E%8B%E4%BA%89.jpeg)

RoadMap

![img](https://static001.geekbang.org/resource/image/91/a7/913e0ababe43a2d57267df5c5f0832a7.jpg)

# 学习内容 :

03丨复杂度分析（上）：如何分析、统计算法的执行效率和资源消耗？

执行效率：时间、空间复杂度分析；

复杂度分析是整个算法学习的精髓，只要掌握了它，数据结构和算法的内容基本上就掌握了一半。

事后统计法：测试结果非常依赖测试环境；测试结果受数据规模的影响很大；

所以我们需要不依赖测试数据来测试，就可以粗略的来估计算法的执行效率(最好&&最坏的情况)。

## 大 O 复杂度表示法

代码执行：读数据 -> 运算 -> 写数据

> 所有代码的执行时间 T(n) 与每行代码的执行次数 f(n) 成正比: 
>
> > **T(n) = O(f(n))**
>
> T(n)：代码执行的时间；
>
> n：数据规模的大小；
>
> f(n)：每行代码执行的次数总和；
>
> 因为这是一个公式，所以用 f(n) 来表示。公式中的 O，表示代码的执行时间 T(n) 与 f(n) 表达式成正比。

**剔除常数的运算**

> 这就是大 O 时间复杂度表示法。大 O 时间复杂度实际上并不具体表示代码真正的执行时间，而是表示代码执行时间随数据规模增长的**变化趋势**，所以，也叫作渐进时间复杂度（asymptotic time complexity），简称时间复杂度。

## 时间复杂度分析

1. 只关注循环执行次数最多的一段代码；
2. 加法法则：总复杂度等于量级最大的那段代码的复杂度；
3. 乘法法则：嵌套函数的复杂度等于嵌套内外代码复杂度的乘积；



### 几种常见时间复杂度实例分析

* 常量阶： O(1)
* 对数阶：O(log n)
* 线性阶：O(n)
* 线性对数阶：O(n log n)
* 平方阶：O(n^2^)、O(n^3^)、....O(n^k^)
* 指数阶：O(2^n^)
* 阶乘阶：O(n!)



多项式量级 && 非多项式量级（只有O(2^2^) 和 O(n!)）

> 把时间复杂度为非多项式量级的算法问题叫作 NP（Non-Deterministic Polynomial，非确定多项式）问题。
>
> 效率太低了

### O(1)

O(1) 只是常量级时间复杂度的一种表示方法，并不是指只执行了一行代码。

一般情况下，只要算法中不存在循环语句、递归语句，即使有成千上万行的代码，其时间复杂度也是Ο(1)。

代码执行次数为常量；

### O(log n)、O(n log n)

不管是以 2 为底、以 3 为底，还是以 10 为底，我们可以把所有对数阶的时间复杂度都记为 O(logn)。

对数之间是可以互相转换的，log~3~n 就等于 log~3~2 * log~2~n，所以 O(log~3~n) = O(C * log~2~n)，其中 C=log~3~2 是一个常量。基于我们前面的一个理论：在采用大 O 标记复杂度的时候，可以忽略系数，即 O(Cf(n)) = O(f(n))。所以，O(log~2~n) 就等于 O(log~3~n)。因此，在对数阶时间复杂度的表示方法里，我们忽略对数的“底”，统一表示为 O(logn)。

如果一段代码的时间复杂度是 O(logn)，我们循环执行 n 遍，时间复杂度就是 O(nlogn) 了。而且，O(nlogn) 也是一种非常常见的算法时间复杂度。比如，归并排序、快速排序的时间复杂度都是 O(nlogn)。

### O(m + n)、O(m * n)

代码的复杂度由两个数据的规模来决定。

m 和 n 是表示两个数据规模。我们无法事先评估 m 和 n 谁的量级大，所以我们在表示复杂度的时候，就不能简单地利用加法法则，省略掉其中一个。所以，上面代码的时间复杂度就是 O(m+n)。

嵌套循环： O(m * n)

## 空间复杂度分析

时间复杂度的全称是渐进时间复杂度，表示算法的执行时间与数据规模之间的增长关系。类比一下，空间复杂度全称就是渐进空间复杂度（asymptotic space complexity），表示算法的存储空间与数据规模之间的增长关系。

常见的空间复杂度就是O(1)、 O(2)、 O(n^2^)



> 越高阶复杂度的算法，执行效率越低。常见的复杂度并不多，从低阶到高阶有：O(1)、O(logn)、O(n)、O(nlogn)、O(n^2^ )。

![img](https://static001.geekbang.org/resource/image/49/04/497a3f120b7debee07dc0d03984faf04.jpg)

